{% load validation %}
{% load package_extras %}
{% extends "base.html" %}
{% block title %}Arch Linux - Package Signoffs{% endblock %}
{% block head %}
<script type="text/JavaScript" src="/media/calendar.js"></script>
<link href="/media/calendar.css" rel="stylesheet" type="text/css" />
{% endblock %}

{% block content %}
    {% if message %}
    <div class="greybox">
        {{message}}
    </div>
    <br />
    {% endif %}
    {% if packages %}
    <div class="greybox">
        <table class="results" width="100%">
            <tr>
                <th>Arch</th>
                <th>Package</th>
                <th>Maintainer</th>
                <th>Version</th>
                <th>Last Updated</th>
                <th>Approved</th>
                <th>Signoff</th>
            </tr>
        {% for pkg in packages %}
        <tr class="{% cycle pkgr2,pkgr1 %}">
                <td>{{ pkg.arch.name }}</td>
                <td><a href="{{ pkg.get_absolute_url }}">{{ pkg.pkgname }}</a></td>
                <td>{{ pkg.maintainer|default:"Orphan" }}</td>
                <td>{{ pkg.pkgver }}-{{ pkg.pkgrel }}</td>
                <td>{{ pkg.last_update }}</td>
                <td class="signoff_{{pkg.approved_for_signoff|yesno}}">{{ pkg.approved_for_signoff|yesno:"Yes,No" }}</td>
                <td>
                    <ul>
                    {% for signoff in pkg.signoffs %}
                    <li>{{signoff.packager}}</li>
                    {% endfor %}
                    <li>
                    <a href="/packages/signoff_package/{{pkg.arch}}/{{pkg.pkgname}}/">Signoff</a>
                    </li>
                    </ul>
                </td>
            </tr>
        {% endfor %}
        </table>
    </div>
    {% endif %}
{% endblock %}

