{% extends "base.html" %}
{% block content %}
	<div class="greybox">
            <div style="float:right">
                {% if perms.main.delete_todolist %}
                    <a href="/todo/delete/{{list.id}}/">Delete Todo List</a> | 
                {% endif %}
                {% if perms.main.change_todolist %}
                    <a href="/todo/edit/{{list.id}}/">Edit Todo List</a>
                {% endif %}
            </div>
		<h2 class="title">ToDo List: {{ list.name }}</h2>
		<table id="todotable" class="results" width="100%">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Arch</th>
                    <th>Repo</th>
                    <th>Maintainer</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
            {% for pkg in list.packages %}
                <tr class="{% cycle even,odd %}">
                    <td><a href="{{ pkg.pkg.get_absolute_url }}">{{ pkg.pkg.pkgname }}</a></td>
                    <td>{{ pkg.pkg.arch.name }}</td>
                    <td>{{ pkg.pkg.repo.name|capfirst }}</td>
                    <td>{{ pkg.pkg.maintainer.get_full_name|default:"Orphan" }}</td>
                    <td>
                    {% if pkg.complete %}
                        <a href="/todo/flag/{{ list.id }}/{{ pkg.id }}/"><span style="color:blue">Complete</span></a>
                    {% else %}
                        <a href="/todo/flag/{{ list.id }}/{{ pkg.id }}/"><span style="color:red">Incomplete</span></a>
                    {% endif %}
                    </td>
                </tr>
            {% endfor %}
            </tbody>
		</table>
        <br />
        <div class="box">
            <h3>List Description</h3>
            {{list.description|linebreaks}}
        </div>
	</div>
{% endblock %}
